<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Valentine?</title>
  <style>
    :root{
      --bg1:#fff7fb;
      --bg2:#f4f7ff;
      --card:#ffffffcc;
      --text:#1f2430;
      --muted:#5b6270;
      --accent:#ff3b7a;
      --accent2:#6a5cff;
      --shadow: 0 18px 45px rgba(20, 20, 40, 0.12);
      --radius: 22px;
      --btn-radius: 999px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; margin:0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji"; color:var(--text); }

    body{
      overflow:hidden;
      background:
        radial-gradient(1200px 800px at 20% 20%, var(--bg1), transparent 60%),
        radial-gradient(1000px 700px at 80% 30%, var(--bg2), transparent 55%),
        linear-gradient(135deg, #fff, #fafbff);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      position:relative;
    }

    /* subtle floating hearts background (pure CSS) */
    .hearts{
      position:absolute;
      inset:0;
      pointer-events:none;
      opacity:0.35;
      filter: blur(0.2px);
    }
    .heart{
      position:absolute;
      width:18px; height:18px;
      transform: rotate(45deg);
      background: linear-gradient(135deg, rgba(255,59,122,0.55), rgba(106,92,255,0.35));
      border-radius: 4px;
      animation: floatUp linear infinite;
    }
    .heart::before, .heart::after{
      content:"";
      position:absolute;
      width:18px; height:18px;
      border-radius:50%;
      background: inherit;
    }
    .heart::before{ left:-9px; top:0; }
    .heart::after{ left:0; top:-9px; }

    @keyframes floatUp{
      from{ transform: translateY(40px) rotate(45deg); opacity:0; }
      10%{ opacity:0.9; }
      to{ transform: translateY(-110vh) rotate(45deg); opacity:0; }
    }

    .card{
      width:min(720px, 100%);
      background:var(--card);
      backdrop-filter: blur(10px);
      border:1px solid rgba(40, 40, 60, 0.08);
      box-shadow: var(--shadow);
      border-radius: var(--radius);
      padding: clamp(20px, 4vw, 40px);
      position:relative;
      z-index:2;
    }

    .topline{
      font-size: 14px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--muted);
      margin:0 0 12px;
    }

    h1{
      margin:0 0 10px;
      font-size: clamp(28px, 4vw, 44px);
      line-height: 1.08;
    }

    p{
      margin:0 0 22px;
      color:var(--muted);
      font-size: clamp(16px, 2vw, 18px);
      line-height:1.5;
    }

    .stage{
      position:relative;
      height: 120px;
      margin-top: 18px;
      border-radius: 18px;
      border:1px dashed rgba(40,40,60,0.12);
      background: rgba(255,255,255,0.55);
      overflow:hidden;
    }

    .btn{
      appearance:none;
      border:none;
      padding: 14px 20px;
      border-radius: var(--btn-radius);
      font-weight: 700;
      font-size: 16px;
      cursor:pointer;
      transition: transform 0.12s ease, box-shadow 0.12s ease, opacity 0.12s ease;
      user-select:none;
      position:absolute;
      top:50%;
      transform: translate(-50%, -50%);
      box-shadow: 0 10px 22px rgba(20, 20, 40, 0.12);
      white-space:nowrap;
    }
    .btn:active{ transform: translate(-50%, -50%) scale(0.98); }

    #yesBtn{
      left:35%;
      background: linear-gradient(135deg, var(--accent), #ff6aa0);
      color:white;
    }

    #noBtn{
      left:65%;
      background: linear-gradient(135deg, #1f2430, #3b4256);
      color:white;
    }

    .hint{
      margin-top:14px;
      font-size: 13px;
      color: var(--muted);
    }

    .modal{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,0.35);
      z-index:5;
      padding:24px;
    }
    .modal.open{ display:flex; }

    .modal-card{
      width:min(680px, 100%);
      background:white;
      border-radius: 22px;
      padding: 26px;
      box-shadow: 0 22px 60px rgba(0,0,0,0.25);
      border:1px solid rgba(0,0,0,0.08);
    }
    .modal-card h2{
      margin:0 0 10px;
      font-size: clamp(22px, 3vw, 30px);
    }
    .modal-card p{
      margin:0 0 18px;
      color: var(--muted);
    }
    .modal-actions{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
    }
    .secondary{
      background: linear-gradient(135deg, #eef1ff, #fff1f7);
      color: #1f2430;
      border:1px solid rgba(40,40,60,0.10);
      box-shadow:none;
      position:static;
      transform:none;
    }
    .primary{
      background: linear-gradient(135deg, var(--accent2), #8a7bff);
      color:white;
      border:none;
      box-shadow: 0 10px 22px rgba(20, 20, 40, 0.12);
      position:static;
      transform:none;
    }

    .signature{
      margin-top: 18px;
      font-size: 14px;
      color: var(--muted);
    }

    @media (max-width: 520px){
      .stage{ height: 150px; }
      #yesBtn{ left:50%; top:45%; }
      #noBtn{ left:50%; top:75%; }
    }
  </style>
</head>
<body>
  <div class="hearts" aria-hidden="true" id="hearts"></div>

  <main class="card">
    <div class="topline">Elo Love</div>
    <h1 id="headline">Ale, will you be my Valentine?</h1>
    <p id="subline">I love you and I want to spend that day with you.</p>

    <div class="stage" id="stage">
      <button class="btn" id="yesBtn">Yes</button>
      <button class="btn" id="noBtn">No</button>
    </div>

    <div class="signature" id="sig">Made with love, by FM.</div>
  </main>

  <div class="modal" id="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-card">
      <h2 id="modalTitle">Best decision.</h2>
      <p id="modalText">Now I owe you a proper plan: snacks, a walk, and something sweet.</p>
      <div class="modal-actions">
        <button class="btn secondary" id="closeBtn" type="button">Close</button>
        <button class="btn primary" id="copyBtn" type="button">Copy message</button>
      </div>
    </div>
  </div>

  <script>
    // Customize these two lines if you want
    const YOUR_NAME = ""; // e.g., "Fisnik"
    const HER_NAME  = ""; // e.g., "Anna"

    const headline = document.getElementById("headline");
    const subline  = document.getElementById("subline");
    const sig      = document.getElementById("sig");
    const stage    = document.getElementById("stage");
    const yesBtn   = document.getElementById("yesBtn");
    const noBtn    = document.getElementById("noBtn");
    const modal    = document.getElementById("modal");
    const closeBtn = document.getElementById("closeBtn");
    const copyBtn  = document.getElementById("copyBtn");
    const modalText= document.getElementById("modalText");

    const noLines = [
      "Are you sure?",
      "Really sure?",
      "I will ask nicely again.",
      "This button is not helping your case.",
      "Think about it for one second.",
      "Ok, last chance.",
      "I am still hoping for yes."
    ];

    let noCount = 0;

    // Set names if provided
    const namePart = (HER_NAME || YOUR_NAME) ? `, ${HER_NAME || "my favorite person"}` : "";
    headline.textContent = `Alexa, will you be my Valentine${namePart}?`;

    function rand(min, max){
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }

    function placeNoButtonAwayFrom(pointerX, pointerY){
      const rect = stage.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      const maxX = rect.width - btnRect.width;
      const maxY = rect.height - btnRect.height;

      // Coordinates relative to the stage
      const px = pointerX - rect.left;
      const py = pointerY - rect.top;

      // Try a few random positions not too close to the pointer
      for (let i = 0; i < 10; i++){
        const x = rand(0, Math.max(0, Math.floor(maxX)));
        const y = rand(0, Math.max(0, Math.floor(maxY)));
        const dx = x - px;
        const dy = y - py;
        if (Math.hypot(dx, dy) > 120){
          noBtn.style.left = `${x + btnRect.width/2}px`;
          noBtn.style.top  = `${y + btnRect.height/2}px`;
          return;
        }
      }

      // fallback
      const x = rand(0, Math.max(0, Math.floor(maxX)));
      const y = rand(0, Math.max(0, Math.floor(maxY)));
      noBtn.style.left = `${x + btnRect.width/2}px`;
      noBtn.style.top  = `${y + btnRect.height/2}px`;
    }

    function updateNoText(){
      const i = Math.min(noCount, noLines.length - 1);
      noBtn.textContent = noLines[i];
    }

    function makeYesBigger(){
      const scale = Math.min(1 + noCount * 0.08, 1.8);
      yesBtn.style.transform = `translate(-50%, -50%) scale(${scale})`;
    }

    // No button dodges on hover and touch
    noBtn.addEventListener("mouseenter", (e) => {
      noCount++;
      updateNoText();
      makeYesBigger();
      placeNoButtonAwayFrom(e.clientX, e.clientY);
    });

    noBtn.addEventListener("touchstart", (e) => {
      const t = e.touches[0];
      noCount++;
      updateNoText();
      makeYesBigger();
      placeNoButtonAwayFrom(t.clientX, t.clientY);
    }, { passive: true });

    noBtn.addEventListener("click", (e) => {
      // If someone manages to click it, still keep it playful
      noCount++;
      updateNoText();
      makeYesBigger();
      placeNoButtonAwayFrom(e.clientX, e.clientY);
    });

    // Yes opens a modal
    yesBtn.addEventListener("click", () => {
      const msg = HER_NAME
        ? `You just made ${YOUR_NAME || "me"} very happy, ${HER_NAME}.`
        : `You just made ${YOUR_NAME || "me"} very happy.`;

      modalText.textContent = `${msg} Letâ€™s plan something simple and nice.`;
      modal.classList.add("open");
    });

    closeBtn.addEventListener("click", () => modal.classList.remove("open"));
    modal.addEventListener("click", (e) => {
      if (e.target === modal) modal.classList.remove("open");
    });

    copyBtn.addEventListener("click", async () => {
      const text = `Alexa, will you be my Valentine?`;
      try{
        await navigator.clipboard.writeText(text);
        copyBtn.textContent = "Copied";
        setTimeout(() => copyBtn.textContent = "Copy message", 1200);
      }catch{
        copyBtn.textContent = "Copy failed";
        setTimeout(() => copyBtn.textContent = "Copy message", 1200);
      }
    });

    // Hearts background generator
    const hearts = document.getElementById("hearts");
    const heartCount = 18;
    for (let i = 0; i < heartCount; i++){
      const h = document.createElement("div");
      h.className = "heart";
      h.style.left = rand(0, 100) + "%";
      h.style.bottom = rand(-20, 20) + "vh";
      h.style.animationDuration = rand(8, 16) + "s";
      h.style.animationDelay = rand(0, 10) + "s";
      h.style.transform = `rotate(45deg) scale(${(rand(70, 130)/100).toFixed(2)})`;
      hearts.appendChild(h);
    }
  </script>
</body>
</html>
